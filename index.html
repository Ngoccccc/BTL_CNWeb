<!DOCTYPE html>
<head>
    <script>
         let ajaxRequest;
        
         function getXMLHttpRequest(){
            let request;
            if (window.XMLHttpRequest){
                Object
                request = new XMLHttpRequest();
            } else {
                request = new ActiveXObject("Microsoft.XMLHTTP");
            }
            return request;
         }
         function ajaxResponse()
         {
            if(ajaxRequest.readyState != 4){
                return;
            }
            else {
                if(ajaxRequest.status == 200){
                    document.getElementById("showtime").innerHTML = a
                } else{
                    alert("Request failed: " + ajaxRequest.statusText)
                }
            }
         }
        
         function getServerTime(){
            ajaxRequest = getXMLHttpRequest();
            if(!ajaxRequest){
                document.getElementById("showtime").innerHTML = "Request error";
                return;
            }
            let myURL = "telltime.php";
            let myRand = parseInt(Math.random()*99999999999999);
            myURL = myURL + "?rand=" + myRand;
            ajaxRequest.onreadystatechange = ajaxResponse;
            ajaxRequest.open("GET", myURL);
            ajaxRequest.send(null);
         }
    </script>
</head>
<body onload="getServerTime();">
    <h1> Ajax Demonstration</h1>
    <h2> Getting the server time without refreshing page</h2>
    <form>
        <input type="button" value = "Get Server Time" onlick="getServerTime();">
    </form>
    <div id="showtime" class="displaybox"></div>
</body>
</html>
